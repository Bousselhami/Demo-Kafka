<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Analyticss</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/smoothie/1.34.0/smmothie.min.js"></script>
</head>
<canvas id="chart2" width="600" height="400"></canvas>
<sript>
    var index=-1;
    randomColor=function(){
    ++index;
    if (index >= colors.length) index = 0; return colors[index];
    }
    var pages=["P1","P2"];
    var colors=[
    {sroke:'rgba(0,255,0,1)',fill:'rgba(0,255,0,0.2)'},
    {sroke:'rgba(255,0,0,1)',fill:'rgba(255,0,0,0.2)'}
    ];
    var smoothieChart = new SmoothieChart({tooltip: true});
    smoothieChart.streamTo(document.getElementById("chart2"),500);
    pages.forEach(function(v){
    courbe[v]=new TimeSerie();
    col=randomColor();
    smoothieChart.addTimeSeries(croube[v],{strokeStyle : col.sroke, fillStyle : col.fill, lineWidth:2
    });
    });
    var strockEventSource= new EventSource("/analytics");

    strockEventSource.addEventListener("message",funtion(event){
    pages.forEach(function(v){
          val=JSON.parse(event.data)[v];
          courbe[v].append(new Date().getTime(),val);
    });
    });
</sript>




<body>

</body>
</html>